\section{Integration}
In this section we would like to formulate the concept of integral in the context of measure spaces. In the Riemann integral we first partition the domain and then approximate then integral to be:
\[\int f \approx \sum_{k\geq 1} y_k (x_k - x_{k-1})\]
Using a similar concept we would later define an integral, called the Lebesgue integral, where we partition the $y$-axis, take the inverse of that interval to get a set in the domain, and then use a measure to find the "length" of this interval. Then we approximate the integral as follows:
\[\int f \approx \sum_{k\geq 1} y_k \mu(f^{-1}(A_k))\]
See \cref{fig:int} to understand this better. But in order to define this integral the function must have the property that its inverse belongs to the $\sigma-$algebra on which the measure $\mu$ is defined. For this a new class of functions known as measurable functions is defined which hold this property. 
\begin{figure}
  \centering
  \begin{subfigure}[b]{0.45\textwidth}
    \incfig[0.7]{riemann_int}
    \caption{Riemann integral}
  \end{subfigure}
  \hfill
  \begin{subfigure}[b]{0.45\textwidth}
    \incfig[0.7]{lebesgue_int}
    \caption{Lebesgue integral}
  \end{subfigure}
  \caption{Visualization of the integral}
  \label{fig:int}
\end{figure}
\begin{definition}
  Let $(X,\mathscr{T})$ be a topological space. Then the $\sigma-$algebra generated by the open sets of this space is called the \textit{Borel $\sigma-$algebra}, and represented $ \mathscr{B}(X,\mathscr{T})$.\\

  In the case when $X=\R^n$ and $\mathscr{T}$ is the usual topology on $\R$, the Borel $\sigma-$algebra is simply denoted $ \mathscr{B}( \R^n)$.
\end{definition}
\begin{definition}
  Let $(\Omega, \mathscr{F}, \mu)$ be a measure space, and $f:\Omega \to \R$ be a function $\Omega$ then $f$ is said to be $ \mathscr{F}-$\textit{measurable}, or simply measurable, if $B\in \mathscr{B}( \R) \implies f^{-1}(B)\in \mathscr{F}$.\\

  In general if $(\Omega_1, \mathscr{F}_1, \mu_1)$ and $(\Omega_2, \mathscr{F}_2, \mu_2)$ are measure spaces then $f: \Omega_1 \to \Omega_2$ is said to be $ \langle\mathscr{F}_1, \mathscr{F}_2 \rangle$-measurable if $A\in \mathscr{F}_2 \implies f^{-1}(A) \in \mathscr{F}_1$. Hence $ \mathscr{F}-$measurable functions are just $\langle \mathscr{F}, \mathscr{B}( \R)\rangle$-measurable.
\end{definition}
\begin{lemma}\label{lem:measurable_f}
  Let $(\Omega, \mathscr{F}, \mu)$ be a measure space and $f:\Omega \to \R$. Then $f$ is measurable $\iff\ f^{-1}((-\infty, x]) \in \mathscr{F}$.
\end{lemma}
\begin{proof}
  Before we begin proving this lemma, note that $ \mathscr{B}(\R)$ is the $\sigma-$algebra generated by the usual topology $\mathscr{T}$ on $\R$. Let $ \mathscr{C}=\{(-\infty,x]\ |\ x<\infty\}$ and $ \mathscr{G}$ be the $\sigma-$algebra generated by $ \mathscr{C}$. Since for any $(-\infty, x]$ the sequence of elements $(-\infty, x_n) \in \mathscr{B}(\R)$ where $x_n \downarrow x$ satisfies $(-\infty,x] = \bigcap_{j\geq 1}(-\infty, x_j)$. This shows that $(-\infty, x]\in \mathscr{B}(\R)$ (using closure under countable intersection), furhter implying that $ \mathscr{G}\subset \mathscr{B}(\R)$. Similarly it can be shown that any open set $(x,y)$ can be expressed as countable unions and intersections of elements of $ \mathscr{G}$, implying that $ \mathscr{B}(\R)\subset \mathscr{G}$. Hence $ \mathscr{B}(\R) = \mathscr{G}$. 
  \paragraph{($\implies $)} If $f$ is measurable then $A\in\mathscr{B}( \R)\implies f^{-1}(A) \in \mathscr{F}$, and since $(-\infty, x]\in \mathscr{B}( \R)$ this implies that $f^{-1}((-\infty,x])\in \mathscr{F}$.   
  \paragraph{($\impliedby $)} Let $ \mathscr{M} = \{A\in \mathscr{B}(\R)\ |\ f^{-1}(A)\in \mathscr{F}\}$. Since $\R \in \mathscr{B}(\R)$ and $f^{-1}(\R) = \{\omega\ |\ f(\omega)\in \R \} = \Omega \implies \Omega \in \mathscr{M}$. Also observing that $f^{-1}$ preserves countable unions and compliments, if $A, A_1,... \in \mathscr{M}$ then $f^{-1}(A^c) = (f^{-1}(A))^c\in \mathscr{F}$ and $f^{-1}(\bigcup_{j\geq1}A_j) = \bigcup_{j\geq 1}f^{-1}(A_j)$. This shows that $ \mathscr{M}$ is closed under compliments and countable unions. Hence $ \mathscr{M}$ is a $\sigma-$algebra. Since we are showing the backward implication we assume that $ \mathscr{C} \subset \mathscr{M}$. Since $ \mathscr{M}$ is a $\sigma-$algebra containing $ \mathscr{C}$ it follows that $ \mathscr{B}(\R) \subset \mathscr{M}$. Since by definition of $ \mathscr{M}$ it is a subset of $ \mathscr{B}(\R)$ further follows that $ \mathscr{M} = \mathscr{B}(\R)$. Thus proving the lemma.
\end{proof}
\begin{remark}
  Note that the key to proving the lemma really was showing that $ \mathscr{B} (\R) \subset \mathscr{M}$, which required the fact that $ \mathscr{B}(\R)$ was the $\sigma-$algebra generated by $ \mathscr{C}$. Hence this theorem can be easily extended to any class $ \mathscr{C}$ which generates the $\sigma-$algebra $ \mathscr{B}(\R)$, in the following sense:
  \begin{lemma}
  Let $(\Omega, \mathscr{F}, \mu)$ be a measure space, $ \mathscr{C}$ be a class of subsets of $\R$ which generates the $\sigma-$algebra $ \mathscr{B} (\R)$, and $f:\Omega \to \R$. Then $f$ is measurable $\iff\ f^{-1}(A) \in \mathscr{F}$ where $A\in \mathscr{C}$.
  \end{lemma}
  Hence \cref{lem:measurable_f} also holds if $(-\infty, x]$ is replaced with one of $(-\infty, x),\ (x, \infty)$, or $[x,\infty)$. 
\end{remark}
\begin{definition}
  Let $(\Omega, \mathscr{F}, \mu)$ be a measure space, $E_1,...,E_n\in \mathscr{F}$ be pairwise disjoint sets such that $\Omega = \bigcup_{j=1}^n E_j$, and $1_{E_j}$ be the indicator function of $E_j$. Then a \textit{simple function} $f:\Omega \to \R$ is a function which can be written as:
  \[f(\omega) = \sum_{j=1}^n c_j 1_{E_j}(\omega)\]
  where $c_j\in \R$.
\end{definition}
\begin{proposition}
  Simple functions are measurable. 
\end{proposition}
\begin{proof}
  Let $f:\Omega\to \R$ be a simple function expressed as:
  \[f(\omega) = \sum_{j=1}^n c_j 1_{E_j}(\omega)\]
  The set $f^{-1}((-\infty,x]) = \{\omega\ |\ f(\omega) \leq x\}$ should belong to $ \mathscr{F}$ for $f$ to be measurable by \cref{lem:measurable_f}. Notice that $f(\omega)\leq x$ only when $\omega\in E_j$ such that the corresponding $c_j \leq x$. Hence $f^{-1}((-\infty, x]) = \bigcup_{j\ |\ c_j\leq x} E_j$. Since each $E_j\in \mathscr{F}$ so will be any finite union. Hence $f^{-1}((-\infty, x])\in \mathscr{F}$.
\end{proof}
\begin{definition}[Integral of Non-negative Simple functions]
  Let $(\Omega, \mathscr{F}, \mu)$ be a measure space and let $f$ be a non-negative simple function of the form 
  \[f(\omega) = \sum_{j=1}^n c_j 1_{E_j}(\omega),\ c_j\leq 0\]
  Then we define:
  \[\int f = \sum_{j=1}^n c_j \mu(E_j)\]
\end{definition}
The non-negative condition was applied to avoid cases like the following: $\mu(E_1)= \mu(E_2)= \infty$ and $c_1 = -c_2$. Then the sum on the RHS would have $\infty - \infty$, which is not well defined.  
\begin{proposition}
  The integral of non-negative simple function is well defined.
\end{proposition}
\begin{proof}
  Let $f:\Omega\to\R$, $\{E_1,...,E_n\}, \{F_1,...,F_2\}\in \mathscr{F}$ be two partitions of $\Omega$, and $f$ be represented as:
  \[f(\omega) = \sum_{j=1}^n c_k 1_{E_j} = \sum_{j=1}^n d_k 1_{F_j}\]
  where $c_j,d_j\geq 0$. Consider the case when $E_{j_0}\cap F_{k_0} \neq \emptyset$. If $\omega \in E_{j_0}\cap F_{k_0}$ then $f(\omega) = c_{j_0} = d_{k_0}$. Since
  \begin{align*}
    \mu(E_j) &= \mu(E_j \cap \Omega)\\
          &= \mu(E_j \cap \bigcup_{k=1}^n F_k)\\
          &= \sum_{k=1}^n \mu(E_j\cap F_k),
  \end{align*}
  it follows that
  \begin{align*}
    \int f = \sum_{j=1}^n \sum_{k=1}^n c_j \mu(E_j\cap F_k).
  \end{align*}
  Similarly in case of $F_j$,
  \begin{align*}
    \int f = \sum_{j=1}^n \sum_{k=1}^n d_k \mu(E_j\cap F_k).
  \end{align*}
  When $E_j\cap F_k = \emptyset$ the corresponding term in the sum is $0$, and when $E_j\cap F_k \neq \emptyset$ then $d_j=c_j$. Thus both the sums are equal. 
\end{proof}
\begin{lemma}
  Let $(\Omega, \mathscr{F}, \mu)$ be a measure space, $f,g: \Omega \to \R$ be measurable functions, and $\alpha$ be some constant; then
  \begin{enumerate}
    \item $\alpha f$, 
    \item $f + \alpha$, 
    \item $f+g$,
    \item $f^2$,
    \item $1/f$,
    \item $f^\pm$, where $f^\pm(\omega) = \max(\pm f(\omega), 0)$,
    \item $|f|$,
    \item $fg$
  \end{enumerate}
  are measurable functions.
\end{lemma}
\begin{proof}
  From \cref{lem:measurable_f}, in each case we only have to show that the inverse map of $(-\infty,x]$ belongs to $ \mathscr{F}$, given that $A\in \mathscr{B}( \R)\implies f^{-1}(A),g^{-1}(A)\in \mathscr{F}$. 
  \begin{enumerate}
    \item In this case we need to show that $\{\omega\ |\ \alpha f(\omega)\leq x\}\in \mathscr{F}$. When $\alpha = 0$, forall $x\geq 0$ the set in question is $\Omega$ and when $x<0$ it is $\emptyset$. Both of these are in $ \mathscr{F}$. When $\alpha>0$, the set $\{\omega\ |\ \alpha f(\omega) \leq x\} = \{\omega\ |\ f(\omega)\leq x/\alpha\} \in \mathscr{F}$. Similarly for $\alpha < 0$, $\{\omega\ |\ \alpha f(\omega)\leq x\} = \{\omega\ |\ f(\omega)\geq x/\alpha\}\in \mathscr{F}$.\\
    \item Using similar logic as above $\{\omega\ |\ -\infty <f(\omega) +\alpha \leq x\} =\{\omega\ |\ -\infty <f(\omega) \leq x-\alpha \} \in \mathscr{F}$. \\
    \item Consider the set $\{\omega\ |\ f(\omega)+g(\omega) \leq x\}$. Using density of $ \mathbb{Q}$ in $\R$ we know that it is always possible to find $r\in \mathbb{Q}$ such that $f(\omega)\leq r$ and hence $g(\omega)\leq x-r $. Thus $\{\omega\ |\ f(\omega)+g(\omega) \leq x\} = \bigcup_{r\in \mathbb{Q}}\{\omega\ |\ f(\omega) \leq r\}\cap \{\omega\ |\ g(\omega) \leq x-r\} $. Since each $\{\omega\ |\ f(\omega) \leq r\}$ and $\{\omega\ |\ g(\omega) \leq x-r\}$ is in $ \mathscr{F}$, by closure under countable unions and intersections $\{\omega\ |\ f(\omega)+g(\omega) \leq x\}\in \mathscr{F}$.\\
    \item Consider the set $\{\omega\ |\ f^2(\omega) \leq x\}$. In the case when $x<0$, the set $\{\omega\ |\ f^2(\omega) \leq x\} = \emptyset\in \mathscr{F}$. In the case when $x\geq0$, $\{\omega\ |\ f^2(\omega) \leq x\} = \{\omega\ |\ -\sqrt{x} \leq f(\omega) \leq \sqrt{x}\}\in \mathscr{F}.$\\   
    \item Consider the set $\{\omega\ |\ 1/f(\omega) < x\}$. In the case when $x>0$, 
      \begin{align*}
        \{\omega\ |\ 1/f(\omega) < x\} &= \{\omega\ |\ 1/f(\omega) < 0\}\cup \{\omega\ |\ 0<1/f(\omega) < x\}\\ &= \{\omega\ |\ f(\omega) \leq 0\}\cup \{\omega\ |\ 0<f(\omega) \leq 1/x\}
      \end{align*}
      Since each set in the RHS is in $ \mathscr{F}$ it follows that $\{\omega\ |\ 1/f(\omega) < x\}\in \mathscr{F}$. When $x=0$, $\{\omega\ |\ 1/f(\omega) < 0\} = \{\omega\ |\ f(\omega) < 0\} \in \mathscr{F}$. When $x<0$ then
      \[\{\omega\ |\ 1/f(\omega) < x\} = \{\omega\ |\ 0>f(\omega) > 1/x\} \]
      which is clearly in $ \mathscr{F}$.\\
    \item The set $\{\omega\ |\ f^+(\omega) \leq x\} = \{\omega\ |\ f(\omega) \leq x\}$ when $x\geq 0$, and $\{\omega\ |\ f^+(\omega) \leq x\} = \emptyset$ when $x<0$. Thus $\{\omega\ |\ f^+(\omega) \leq x\}\in \mathscr{F}$. Similarly since $\{\omega\ |\ f^-(\omega) \leq x\} = \{\omega\ |\ f(\omega) \geq x\}$ when $x\geq 0$ (and $\emptyset$ otherwise). Hence $\{\omega\ |\ f^-(\omega) \leq x\}\in \mathscr{F}$.\\
    \item Since $|f| = f^+ + f^-$, it is obvious that $|f|$ is also measurable.
    \item In the case of product of measurable functions, we simply use the identity:
      \[fg = \f{1}{2} \big((f+g)^2 - f^2 - g^2\big)\]
      Since $f+g$, $f^2$, and $g^2$ are measurable (by points 3,4) it follows that $fg$ is also measurable (again by point 3).
  \end{enumerate} 
\end{proof}
\begin{proposition}
  Let $(\Omega, \mathscr{F}, \mu)$ be measure space, $f:\Omega\to \R$ be some function, and $f_j:\Omega\to \R$ are a sequence of measurable functions. Then
  \begin{enumerate}
    \item $\sup f_n$,
    \item $\inf f_n$,
    \item $\limsup f_n$,
    \item $\liminf f_n$, and
    \item $\lim f_n$
  \end{enumerate}
  are measurable functions.
\end{proposition}
\begin{proof}
 \begin{enumerate}
   \item Consider the set $\{\omega\ |\ \sup f_n < x\}$. Since $f_n \leq \sup f_n$ forall $n$, hence $f_n < x$. Thus
     \[\{\omega\ |\ \sup f_n < x\} = \bigcup_{n\geq 1}\{\omega\ |\ f_n < x\}\in \mathscr{F} \]
   \item Since $\inf f_n = -\sup \{-f_n\}$, it is clear that $\inf f$ is also measurable.
   \item Since
     \[\limsup f_n = \inf_{n} \sup_{m\geq n} f_n\]
     and both the infimum and supremum of sequence of measurable functions is measurable, it follows that $\limsup f_n$ is also measurable.
   \item Similar argument as above for $\liminf f_n$.
   \item For converging sequences $\limsup f_n = \liminf f_n = \lim f_n$. Hence the limit of a converging sequence of functions is converging.
 \end{enumerate} 
\end{proof}
\begin{definition}
  A property $P$ is said to be true almost everywhere w.r.t. $\mu$, also written as a.e. ($\mu$), if $\mu(\{\omega\ |\ \text{$P$ is false}\ \}) = 0$. In other words $P$ is true everywhere except in a set with zero measure.
\end{definition}
\begin{proposition}\label{pro:properties}
  Let $f$ and $g$ be simple functions, then:
  \begin{enumerate}
    \item Integral is linear, i.e.
      \[\int af = a\int f \And \int f+g = \int f + \int g.\]
    \item Integral is monotonic, i.e.
      \[f\leq g \implies \int f \leq \int g.\]
    \item $\int f = 0 \iff f = 0,\ \text{a.e. ($\mu$)} $.
    \item If $f=g$ a.e. ($\mu$), then $\int f = \int g$.
  \end{enumerate}
\end{proposition}
\begin{proof}
Let $\{E_j\}$, $\{F_j\}$ be a partition of $\Omega$ and let the representation of $f,g$ be:
\begin{align*}
  f(\omega) &= \sum_{j\geq 1} c_j 1_{E_j}(\omega)\\
  g(\omega) &= \sum_{j\geq 1} d_j 1_{F_j}(\omega)
\end{align*}
then:
\begin{enumerate}
  \item The representation of $af$ would be:
    \[f(\omega) = \sum_{j\geq 1} (a c_j) 1_{E_j}(\omega))\]
    Thus its integration would be:
    \begin{align*}
      \int af &= \sum_{j\geq 1} (ac_j) \mu(E_j)\\
       &= a\sum_{j\geq 1} c_j \mu(E_j)\\
       &= a\int f.
    \end{align*}
    The representation of $f+g$ would be:
    \begin{align*}
      (f+g)(\omega) &= \sum_{j\geq 1} c_j 1_{E_j}(\omega) + \sum_{j\geq 1} d_j 1_{F_j}(\omega)\\
                    &= \sum_{j\geq 1} \sum_{k\geq 1} (c_j+d_k)1_{E_j\cap F_k}(\omega)
    \end{align*}
    The final inequality is due to the fact that if $\omega \in E_j\cap F_k \neq \emptyset$ in which case we have $c_j$ from the first sum and $d_k$ from the second sum in the LHS and a $c_j+d_k$ in the RHS. Since both the summations are countable it is possible to write it out as a single sum (using the fact that product of countable sets is countable). Thus
    \begin{align*}
      \int (f+g) &= \sum_{j\geq 1}\sum_{k\geq 1} (c_j+d_k) \mu(E_j \cup F_k)\\
       &= \sum_{j\geq 1}\sum_{k\geq 1} c_j \mu(E_j \cup F_k) + \sum_{j\geq 1}\sum_{k\geq 1} d_j \mu(E_j \cup F_k)\\
       &= \int f + \int g
    \end{align*}
  \item If $\omega \in E_i\cap F_j \neq \emptyset$ then
    \begin{align*}
      c_i = f(\omega) \leq g(\omega) = d_j,
    \end{align*}
    and since
    \begin{align*}
      \int f &= \sum_{i\geq1} \sum_{j\geq 1} c_i \mu(E_i\cap F_j)\\
    \end{align*}
    Either $E_i\cap F_j = \emptyset$, or $E_i\cap F_j\neq \emptyset$ in which case $c_i \leq d_j$. Thus 
    \begin{align*}
      \int f \leq \sum_{i\geq 1}\sum_{j\geq 1} d_j \mu(E_i\cap F_j) = \int g
    \end{align*}
  \item Its clear that when $f = 0$, then $\int f = 0$. For the forward implication let $D = \{\omega\ |\ f> 0\}$ and $D_n = \{\omega\ |\ f> 1/n\}$. Clearly $D_n \uparrow D$. Since
    \begin{align*}
      f &\geq f 1_{D_n} \geq \f{1}{n} 1_{D_n} \\
      0 = \int f &\geq \int \f{1}{n} 1_{D_n} = \f{1}{n} \mu(D_n)\\
      \implies \mu(D_n) &\leq 0\implies \mu(D_n) = 0
    \end{align*}
    Using monotone continuity from below, we get that $\mu(D) = 0$. Thus $f=0$ a.e. ($\mu$). 
  \item Let $h = f -g$. Thus $h = 0$, a.e. ($\mu$). From the previous property we know that $\int h = 0$. Then using linearity $\int f = \int g$.
  \end{enumerate}
  Thus completing the proof.
\end{proof}
\begin{remark}
  The second property can be further generalised to $f \leq g$ a.e. ($\mu$) implies that $\int f \leq \int g$ using the fourth property.
\end{remark}
\begin{lemma}
  Let $f:\Omega \to \R$ be a non-negative function, then there exists a sequence of non-negative simple functions $f_n:\Omega\to\R$ such that $f_n \uparrow f$.
\end{lemma}
\begin{proof}
  Consider the sequence of simple functions $(f_n)_{n\geq 1}$ given by:
  \begin{align*}
    f_n(\omega) = \begin{cases}
      n,\ \text{if}\ f(\omega) > n\\
      \f{k}{2^n},\ \text{if}\ \f{k}{2^n} \leq f(\omega) \leq \f{k+1}{2^n},\ 0\leq k \leq n2^n -1
    \end{cases}
  \end{align*}
  If $f(\omega)= \infty$, then $f_n(\omega) = n$ implying that $f_n(\omega)\to f(\omega)$. When $f(\omega)<\infty$, then $\exists\ n_0$ such that $f(\omega) < n_0$. If $n>n_0$ then
  \begin{align*}
    f_n(\omega) = \f{\l[2^n f(\omega)\r]}{2^n} \leq f(\omega). 
  \end{align*}
  Since $f\geq0$ it follows that:
  \begin{align*}
    \f{2^n f(\omega)-1}{2^n}\leq f_n(\omega) &= \f{\l[2^n f(\omega)\r]}{2^n} \leq f(\omega)\\
    \implies f(\omega) \leq &\lim_{n\to \infty}f_n(\omega) \leq f(\omega)
  \end{align*}
  Thus as $n\to\infty$ we get $f_n \to f$.\\

  Now it is requred to show that $f_{n+1}>f_n$. In the case when $f(\omega)=\infty$ clearly $f_n(\omega)=n<f_{n+1}(\omega) = n+1$. When $f(\omega)>n+1$, then $f_n(\omega)<f_{n+1}(\omega)$. When $n< f(\omega) < n+1$, we know that
  \[f_{n+1}(\omega)=\f{\l[2^{n+1}f(\omega)\r]}{2^{n+1}}\geq \f{\l[n2^{n+1}\r]}{2^{n+1}} \geq n = f_{n}(\omega)\]
  And finally when $f_n(\omega)<n<n+1$ then:
  \[f_{n+1}(\omega) = \f{\l[2^{n+1}f(\omega)\r]}{2^{n+1}} \]
  Since for any $x>0$ we have:
  \begin{align*}
    [2x] = \begin{cases}
      2[x]+1,\ \text{if}\ \{x\}\geq0.5\\
      2[x],\ \text{if}\ \{x\}< 0.5
    \end{cases}
  \end{align*}
  Thus:
  \begin{align*}
    \f{\l[2^{n+1}f(\omega)\r]}{2^{n+1}} &= \begin{cases}
        \f{2\l[2^{n}f(\omega)\r]+1}{2^{n+1}},\\
        \f{\l[2^{n}f(\omega)\r]}{2^{n}}
        \end{cases}\\
      \implies f_{n+1}(\omega) &\geq f_n(\omega)
  \end{align*}
  Hence we have proved that $f_n \uparrow f$.
\end{proof}
\begin{definition}[Definition of integral of non-negative functions]\label{def:int}
  Let $(\Omega, \mathscr{F}, \mu)$ be a measure space and $f:\Omega\to \R$ be a non-negative function, and $f_n$ be a sequence of non-negative simple functions such that $f_n \uparrow f$. Then
  $$\int f \coloneqq \lim_{n\to\infty} \int f_n$$
\end{definition}
\begin{proposition}
  Integral in \cref{def:int} is well defined. 
\end{proposition}
\begin{proof}
  Let $f_n, g_n$ be sequences of non-negative simple functions such that $f_n,g_n \uparrow f$. Let the representation of $f_n,g_n$ be as follows,
  \begin{align*}
    f_n = \sum_{i\geq 1} c_{ni} 1_{E_{ni}}\\
    g_n = \sum_{i\geq 1} d_{ni} 1_{F_{ni}},
  \end{align*}
  let
  \begin{align*}
    I_n = \int f_n = \sum_{i\geq 1} c_{ni} \mu(E_{ni}) =\sum_{i\geq 1} \sum_{j\geq 1} c_{ni} \mu(E_{ni}\cap F_{nj}) \\
    J_n = \int g_n = \sum_{j\geq 1} d_{nj} \mu(F_{nj}) =\sum_{j\geq 1} \sum_{i\geq 1} d_{nj} \mu(F_{nj}\cap E_{ni}),
  \end{align*}
  and let $\e>0$. Since we know that $f_n$ and $g_n$ converge to the same function, $f$, assuming that $\omega \in E_{nk}\cap F_{nl} \neq \emptyset$ it follows that $\exists\ N$ such that $n>N$ implies
  \begin{align*}
    |f_n(\omega) - g_n(\omega)| &< \f{\e}{2^{k+l}\mu(E_{nk}\cap F_{nl})}\\
    \implies |\sum_{i\geq 1} c_{ni} 1_{E_{ni}}(\omega) - \sum_{i\geq 1} d_{ni} 1_{F_{ni}}(\omega)| &<\f{\e}{2^{k+l}\mu(E_{nk}\cap F_{nl})}\\
    \implies |c_{nk} - d_{nl}|&<\f{\e}{2^{k+l}\mu(E_{nk}\cap F_{nl})}.
  \end{align*}
  Also,
  \begin{align*}
    |I_n - J_n| &= \l|\sum_{j\geq 1} \sum_{i\geq 1} (c_{ni} - d_{nj}) \mu(F_{nj}\cap E_{ni})\r|
  \end{align*}
  In this sum we either have that $E_{ni}\cap F_{nj} = \emptyset$, or $E_{ni}\cap F_{nj}\neq \emptyset$ in which case we know that $|c_{ni}-d_{nj}|$ is arbitrarily close to zero. Hence we get
  \begin{align*} 
    |I_n - J_n| &\leq \sum_{j\geq 1} \sum_{i\geq 1} \l|c_{ni} - d_{nj}\r| \mu(F_{nj}\cap E_{ni})\\
                &< \sum_{j\geq 1} \sum_{i\geq 1} \f{\e}{2^{i+j}\mu(E_{ni}\cap F_{nj})}\mu(F_{nj}\cap E_{ni}) = \e
  \end{align*}
  Thus $n>N\implies |I_n - J_n|< \e$. Hence
  \[\lim I_n = \lim J_n = \int f\]
  proving that the integral is well defined. 
\end{proof}
\begin{proposition}
  The properties in \cref{pro:properties} extend to non-negative measurable functions. 
\end{proposition}
\begin{proof}
  Let $f,g$ be non-negative measurable functions, let $f_n \uparrow f$, and $g_n \uparrow g$ where $f_n, g_n$ are non-negative simple functions. Then:
  \begin{enumerate}
    \item Since $f_n \uparrow f \implies af_n \uparrow af$. Thus
      \begin{align*}
        \int a f &= \lim_{n\to\infty} \int a f_n\\
                 &= a\lim_{n\to\infty} \int f_n\\
                 &= a \int f.
      \end{align*}
    \item If $f\leq g$ then there exists $N$ such that $n\geq N \implies f_n \leq g_n$. Thus
      \begin{align*}
        \int f_n &\leq \int g_n\\
        \implies \lim_{n\to\infty} \int f_n &\leq\lim_{n\to\infty} \int g_n\\
        \implies \int f &\leq \int g.
      \end{align*}
    \item The proof for the third property did not assume anything about the function $f$ thus it is true for non-negative functions too.
    \item Since $f = g$ a.e. ($\mu$), let $\e >0$, then there exists $N$ such that $n>N$ implies that
      \begin{align*}
        g_n - \e < &f_n < g_n + \e,\ \text{a.e. ($\mu$)}\\
        \implies \int g_n - \e \mu(\Omega) < &\int f_n < \int g_n + \e \mu(\Omega),\ \text{everywhere}\\
        \implies \lim_{n\to\infty} \int g_n - \e \mu(\Omega) <\lim_{n\to\infty} &\int f_n <\lim_{n\to\infty} \int g_n +\e \mu(\Omega)\\
        \implies \int g \leq &\int f \leq \int g\\
        \implies \int f &= \int g
      \end{align*}
      Thus completing the proof.
  \end{enumerate}
\end{proof}
\begin{theorem}[Monotone Convergence Theorem]
  If $(f_n)_{n\geq 1}$, $f$ be non-negative measurable functions such that $f_n \uparrow f$ a.e. ($\mu$). Then,
  \[\int f =\lim_{n\to\infty} \int f_n.\]
\end{theorem}
\begin{proof}
  
\end{proof}
